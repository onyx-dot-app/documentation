---
title: "Overview"
description: "Overview of Onyx APIs and how to use them"
icon: "file-text"
---

# Onyx APIs Overview

Welcome to the Onyx API documentation. Our APIs provide programmatic access to all of Onyx's functionality, enabling you to integrate intelligent search and AI capabilities into your applications.

## API Architecture

Onyx APIs are built on REST principles with JSON request/response formats. All endpoints require authentication and follow consistent patterns for error handling, pagination, and data structures.

### Base URL
```
https://your-onyx-instance.com/api
```

### Core Concepts

- **Agents**: Specialized AI agents configured for specific roles and use cases
- **Chat Sessions**: Persistent conversational threads with agents
- **Actions**: Custom tools and integrations that extend agent capabilities  
- **Connectors**: Data source integrations for knowledge retrieval
- **Document Sets**: Organized collections of searchable content
- **User Groups**: Access control and resource sharing mechanisms

## API Categories

### Chat API
Handle conversations and messaging with AI agents.

**Key Capabilities:**
- Create and manage chat sessions
- Send messages and receive AI responses
- Upload files for analysis
- Search conversation history
- Manage message threads and branching

**Common Use Cases:**
- Customer support chatbots
- Internal knowledge agents
- Document analysis workflows
- Interactive Q&A systems

**Example Request:**
```json
{
  "message": "What is our refund policy?",
  "chat_session_id": "12345",
  "retrieval_options": {
    "run_search": "always"
  }
}
```

### Agents API
Create and manage specialized AI agents.

**Key Capabilities:**
- Create custom agents with specific prompts and knowledge
- Configure agent tools and capabilities
- Manage agent permissions and visibility
- Update agent configurations

**Common Use Cases:**
- Department-specific agents (Sales, Support, HR)
- Role-based agents (Manager, Developer, Analyst)
- Project-specific agents
- Client-specific agents

**Example Agent Configuration:**
```json
{
  "name": "Support Agent",
  "description": "Customer support specialist",
  "system_prompt": "You are a helpful customer support agent...",
  "document_set_ids": [1, 2, 3],
  "tool_ids": [5, 6],
  "is_public": false
}
```

### Search API
Perform direct searches across your knowledge base.

**Key Capabilities:**
- Semantic search across connected data sources
- Filter by document type, date, or source
- Retrieve relevant chunks with citations
- Real-time search with various ranking options

**Example Search:**
```json
{
  "query": "API rate limits",
  "search_type": "semantic",
  "filters": {
    "document_sets": [1, 2]
  }
}
```

### Actions API
Create custom tools and integrations for agents.

**Key Capabilities:**
- Define custom function schemas
- Configure external API integrations
- Validate action parameters
- Deploy actions to agents

**Example Action:**
```json
{
  "name": "Create Ticket",
  "definition": {
    "type": "function",
    "function": {
      "name": "create_support_ticket",
      "parameters": {
        "type": "object",
        "properties": {
          "title": {"type": "string"},
          "description": {"type": "string"},
          "priority": {"type": "string", "enum": ["low", "medium", "high"]}
        }
      }
    }
  }
}
```

### Files & Connectors API
Manage data sources and document ingestion.

**Key Capabilities:**
- Configure data source connectors
- Upload and manage files
- Monitor ingestion status
- Update connector credentials

**Example Connector:**
```json
{
  "name": "Company Wiki",
  "source": "confluence",
  "connector_specific_config": {
    "base_url": "https://company.atlassian.net",
    "space_keys": ["ENG", "PRODUCT"]
  }
}
```

### User Management API
Control user access and permissions.

**Key Capabilities:**
- Create and manage user accounts
- Invite users to the platform
- Reset passwords and manage authentication
- Control user permissions and roles

### Group Management API
Organize users and control resource access.

**Key Capabilities:**
- Create user groups for teams or departments
- Assign agents and connectors to groups
- Manage group membership
- Control group-based permissions

**Example Group:**
```json
{
  "name": "Engineering Team",
  "user_ids": [1, 2, 3],
  "personas": [5, 6],
  "cc_pair_ids": [10, 11]
}
```

### Analytics API
Track usage and performance metrics.

**Key Capabilities:**
- Query volume and user analytics
- Agent performance metrics
- Usage reports and exports
- Feedback and satisfaction tracking

## Authentication

Onyx APIs support multiple authentication methods:

### API Keys (Recommended)
```bash
curl -H "Authorization: Bearer your_api_key_here" \
  https://your-onyx-instance.com/api/chat/create-chat-session
```

### Session Cookies
For web applications using the same domain:
```javascript
fetch('/api/chat/create-chat-session', {
  credentials: 'include'
})
```

### OAuth 2.0
For third-party integrations (if configured):
```bash
curl -H "Authorization: Bearer oauth_access_token" \
  https://your-onyx-instance.com/api/agents
```

See the [Authentication Guide](/api_reference/authentication) for detailed setup instructions.

## Rate Limiting

API requests are subject to rate limits to ensure fair usage:

- **Standard Tier**: 100 requests per minute
- **Premium Tier**: 1000 requests per minute
- **Enterprise Tier**: Custom limits

Rate limit headers are included in all responses:
```
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1640995200
```

## Error Handling

All APIs use consistent HTTP status codes and error formats:

### Success Responses
- `200 OK` - Request succeeded
- `201 Created` - Resource created successfully
- `204 No Content` - Request succeeded, no content returned

### Error Responses
- `400 Bad Request` - Invalid request parameters
- `401 Unauthorized` - Authentication required
- `403 Forbidden` - Insufficient permissions
- `404 Not Found` - Resource not found
- `429 Too Many Requests` - Rate limit exceeded
- `500 Internal Server Error` - Server error

### Error Format
```json
{
  "error": {
    "code": "INVALID_PARAMETER",
    "message": "The specified agent ID does not exist",
    "details": {
      "parameter": "agent_id",
      "value": "invalid_id"
    }
  }
}
```

## Pagination

List endpoints support cursor-based pagination:

### Request Parameters
```json
{
  "limit": 50,
  "cursor": "eyJpZCI6MTIzfQ=="
}
```

### Response Format
```json
{
  "data": [...],
  "pagination": {
    "next_cursor": "eyJpZCI6MTc0fQ==",
    "has_more": true,
    "total_count": 1250
  }
}
```

## Webhooks

Onyx can send webhooks for real-time event notifications:

### Supported Events
- `chat.message.created` - New message in chat session
- `agent.created` - New agent created
- `connector.sync.completed` - Data source sync finished
- `user.invited` - New user invitation sent

### Webhook Format
```json
{
  "event": "chat.message.created",
  "timestamp": "2024-01-15T10:30:00Z",
  "data": {
    "session_id": "12345",
    "message_id": "67890",
    "user_id": "user_123"
  }
}
```

## SDKs and Libraries

### Official SDKs
- **Python**: `pip install onyx-api`
- **JavaScript/Node.js**: `npm install @onyx/api`
- **Go**: `go get github.com/onyx-dot-app/api-go`

### Python Example
```python
from onyx import OnyxClient

client = OnyxClient(api_key="your_api_key")

# Create a chat session
session = client.chat.create_session(
    agent_id=123,
    description="Customer support"
)

# Send a message
response = client.chat.send_message(
    session_id=session.id,
    message="Hello, I need help with billing"
)
```

### JavaScript Example
```javascript
import { OnyxClient } from '@onyx/api';

const client = new OnyxClient({
  apiKey: 'your_api_key'
});

// Create an agent
const agent = await client.agents.create({
  name: 'Support Agent',
  systemPrompt: 'You are a helpful support agent...'
});
```

## Best Practices

### Performance Optimization
- **Batch Requests**: Group related operations when possible
- **Caching**: Cache agent and connector configurations
- **Streaming**: Use streaming endpoints for real-time responses
- **Pagination**: Use appropriate page sizes (10-100 items)

### Security
- **API Key Management**: Rotate keys regularly and use environment variables
- **HTTPS Only**: Always use HTTPS in production
- **Input Validation**: Validate all user inputs before API calls
- **Error Handling**: Don't expose sensitive information in error messages

### Reliability
- **Retry Logic**: Implement exponential backoff for failed requests
- **Timeouts**: Set appropriate request timeouts
- **Circuit Breakers**: Implement circuit breakers for high-volume usage
- **Monitoring**: Monitor API usage and error rates

## Common Patterns

### Agent-Chat-Action Workflow
1. Create specialized agent with tools
2. Start chat session with agent
3. Send message that triggers action
4. Process action results in response

### Knowledge Base Integration
1. Set up connectors for data sources
2. Create document sets from connectors
3. Assign document sets to agents
4. Query knowledge through chat or search

### Team Collaboration Setup
1. Create user groups for teams
2. Assign agents to groups
3. Connect relevant data sources
4. Manage permissions and access

## Getting Started

1. **Obtain API Key**: Generate an API key from your Onyx admin panel
2. **Choose Your SDK**: Install the appropriate SDK for your language
3. **Create Your First Agent**: Set up a simple agent for testing
4. **Start a Chat Session**: Test the conversation flow
5. **Explore Advanced Features**: Add actions, connectors, and groups

## Support and Resources

- **API Documentation**: [/api_reference](/api_reference)
- **Interactive API Explorer**: `https://your-instance.com/api/docs`
- **Community Forum**: [Onyx Community](https://community.onyx.app)
- **GitHub Issues**: [Report Bugs](https://github.com/onyx-dot-app/onyx/issues)
- **Email Support**: [support@onyx.app](mailto:support@onyx.app)

## Next Steps

- [Authentication Setup](/api_reference/authentication)
- [Chat API Guide](/api_reference/chat/simple_example)
- [Agents API Guide](/api_reference/agents/simple_example)
- [Actions API Guide](/api_reference/actions/simple_example)

---

<Note>
**API Stability**: Onyx APIs follow semantic versioning. Breaking changes are introduced only in major versions with advance notice and migration guides.
</Note> 