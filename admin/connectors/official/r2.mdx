---
title: "Cloudflare R2"
description: "Access files from Cloudflare R2 buckets"
---

## How it works

The R2 connector pulls in all documents from the specified Cloudflare R2 bucket.
It supports various file formats including PDF, DOC, DOCX, TXT, and more.

Documents are updated every **1** day.

## Setting up

### Authorization

<Steps>
  <Step title="Open R2 dashboard">
    Log into your Cloudflare dashboard. Navigate to "R2" in the sidebar and click on "Manage R2 API Tokens".

    ![Manage API](/assets/images/connectors/blob/r2/manageapi.png)
  </Step>

  <Step title="Create API token">
    Click "Create API token".

    ![Create API token](/assets/images/connectors/blob/r2/newtoken.png)
  </Step>

  <Step title="Set permissions">
    Give your token a name (e.g., "OnyxR2Connector") and select the appropriate permissions (Object Read only).

    ![Read only](/assets/images/connectors/blob/r2/readonly.png)
  </Step>

  <Step title="Copy keys and Account ID">
    Click "Create API Token". On the next screen, copy your Access Key ID and Secret Access Key immediately. Then,
    to find your Account ID, go to the Overview page; the Account ID is listed in the URL as the final substring.

    ![Onyx page 1](/assets/images/connectors/blob/r2/id.png)
  </Step>
</Steps>

### Indexing

<Steps>
  <Step title="Open R2 connector">
    Navigate to the Admin Panel and select the **R2** Connector.
  </Step>

  <Step title="Enter credentials">
    In **Step 1**, provide your R2 credentials (Access Key ID, Secret Access Key, and Account ID).

    ![Onyx page 2](/assets/images/connectors/blob/r2/Onyx1.png)
  </Step>

  <Step title="Save credentials">
    Click "Update" to save your credentials.
  </Step>

  <Step title="Select bucket">
    In **Step 2**, specify which R2 bucket you want to make searchable.

    ![Onyx page 2](/assets/images/connectors/blob/r2/Onyx2.png)
  </Step>

  <Step title="Start indexing">
    Click "Connect" to begin indexing.
  </Step>
</Steps>

## Understanding R2 Structure

Cloudflare R2 organizes data into buckets, similar to Amazon S3.
Each bucket can contain an unlimited number of objects (files). You can think of a bucket as a root directory,
and the objects as files within that directory.

For more information on R2 structure, visit the [Cloudflare R2 documentation](https://developers.cloudflare.com/r2/).
